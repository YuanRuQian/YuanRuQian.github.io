<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Lydia Yuan&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-12-05T12:33:05.145Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Lydia Yuan</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å®ç° Array.prototype.reduce</title>
    <link href="http://yoursite.com/2020/12/05/%E5%AE%9E%E7%8E%B0-Array-prototype-reduce/"/>
    <id>http://yoursite.com/2020/12/05/%E5%AE%9E%E7%8E%B0-Array-prototype-reduce/</id>
    <published>2020-12-05T10:30:33.000Z</published>
    <updated>2020-12-05T12:33:05.145Z</updated>
    
    <content type="html"><![CDATA[<p>æ˜¨å¤©é¢è¯• é¢è¯•å®˜é—®æˆ‘è¿˜è®°å¾— <code>reduce</code> å— æˆ‘ä¸å¤ªè®°å¾—äº† å¥½å°´å°¬ ğŸ˜…</p><p>æœ¬æ¥æ˜¯è¦æˆ‘æ‰‹æ’•ä¸€ä¸ªçš„</p><p>å“ é¢è¯•åè¡¥æ•‘ä¸€ä¸‹ ğŸš‘</p><p>è¿˜æ˜¯å…ˆçœ‹ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce">MDN</a></p><p>The reduce() method executes a reducer function (that you provide) on each element of the array, resulting in single output value.</p><p>åŸºæœ¬æ ¼å¼æ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.reduce(callback( accumulator, currentValue, [, index[, array]] )[, initialValue])</span><br></pre></td></tr></table></figure><p>ä¸‹é¢å¼€å§‹æ‰‹æ’•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.reduce = <span class="function"><span class="keyword">function</span>(<span class="params">callback, initial = undefined</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯ç®­å¤´å‡½æ•°çš„è¯ this ä¼šæŒ‡å‘å¤–ç•Œè€Œä¸æ˜¯ è°ƒ reduce æ–¹æ³•çš„é‚£ä¸ª Array æœ¬èº«</span></span><br><span class="line">    <span class="keyword">let</span> acc = initial;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="built_in">this</span>.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(acc) &#123;</span><br><span class="line">            acc = callback.call(<span class="literal">undefined</span>, acc, <span class="built_in">this</span>[i]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            acc = <span class="built_in">this</span>[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> acc;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>å°±ç›¸å½“äº <code>for</code> æˆ–è€… <code>forEach</code> æ–¹æ³•å§</p><p>æµ‹è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">accumulator, currentValue</span>) =&gt;</span> accumulator + currentValue;</span><br><span class="line"><span class="built_in">Array</span>.prototype.reduce = <span class="function"><span class="keyword">function</span>(<span class="params">callback, initial = undefined</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> acc = initial;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="built_in">this</span>.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(acc) &#123;</span><br><span class="line">            acc = callback.call(<span class="literal">undefined</span>, acc, <span class="built_in">this</span>[i]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            acc = <span class="built_in">this</span>[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> acc;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1 + 2 + 3 + 4</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.reduce(reducer));</span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5 + 1 + 2 + 3 + 4</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.reduce(reducer, <span class="number">5</span>));</span><br><span class="line"><span class="comment">// 15</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ˜¨å¤©é¢è¯• é¢è¯•å®˜é—®æˆ‘è¿˜è®°å¾— &lt;code&gt;reduce&lt;/code&gt; å— æˆ‘ä¸å¤ªè®°å¾—äº† å¥½å°´å°¬ ğŸ˜…&lt;/p&gt;
&lt;p&gt;æœ¬æ¥æ˜¯è¦æˆ‘æ‰‹æ’•ä¸€ä¸ªçš„&lt;/p&gt;
&lt;p&gt;å“ é¢è¯•åè¡¥æ•‘ä¸€ä¸‹ ğŸš‘&lt;/p&gt;
&lt;p&gt;è¿˜æ˜¯å…ˆçœ‹ &lt;a href=&quot;https://developer.mozilla.or
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å®ç° Promise.all å’Œ Promoise.race</title>
    <link href="http://yoursite.com/2020/12/05/%E5%AE%9E%E7%8E%B0-Promise-all-%E5%92%8C-Promoise-race/"/>
    <id>http://yoursite.com/2020/12/05/%E5%AE%9E%E7%8E%B0-Promise-all-%E5%92%8C-Promoise-race/</id>
    <published>2020-12-05T07:50:52.000Z</published>
    <updated>2020-12-05T09:52:11.405Z</updated>
    
    <content type="html"><![CDATA[<h3 id="promise.all">Promise.all</h3><p>é¦–å…ˆè¿˜æ˜¯å…ˆæ¥çœ‹å®šä¹‰ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/all">Promise.all</a></p><p>Promise.all(iterable) æ–¹æ³•è¿”å›ä¸€ä¸ª Promise å®ä¾‹ï¼Œæ­¤å®ä¾‹åœ¨ iterable å‚æ•°å†…æ‰€æœ‰çš„ promise éƒ½â€œå®Œæˆï¼ˆresolvedï¼‰â€æˆ–å‚æ•°ä¸­ä¸åŒ…å« promise æ—¶å›è°ƒå®Œæˆï¼ˆresolveï¼‰ï¼›å¦‚æœå‚æ•°ä¸­ promise æœ‰ä¸€ä¸ªå¤±è´¥ï¼ˆrejectedï¼‰ï¼Œæ­¤å®ä¾‹å›è°ƒå¤±è´¥ï¼ˆrejectï¼‰ï¼Œå¤±è´¥çš„åŸå› æ˜¯ç¬¬ä¸€ä¸ªå¤±è´¥ promise çš„ç»“æœã€‚</p><p>å®ƒé€šå¸¸åœ¨å¯åŠ¨å¤šä¸ªå¼‚æ­¥ä»»åŠ¡å¹¶å‘è¿è¡Œå¹¶ä¸ºå…¶ç»“æœåˆ›å»ºæ‰¿è¯ºä¹‹åä½¿ç”¨ï¼Œä»¥ä¾¿äººä»¬å¯ä»¥ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚</p><p>ä¸ºå•¥æˆ‘ä¼šæƒ³å®ç°ä¸€ä¸‹å®ƒå‘¢ å› ä¸ºæˆ‘åœ¨ <code>vetur</code> çš„æºç é‡Œçœ‹åˆ°äº†è¿™ä¸€æ®µ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> packages = (<span class="keyword">await</span> <span class="built_in">Promise</span>.all(nodeModulesPaths.map(<span class="function"><span class="params">path</span> =&gt;</span> getPackage(path)))).filter(<span class="function"><span class="params">info</span> =&gt;</span> info) <span class="keyword">as</span> <span class="built_in">Array</span>&lt;&#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  dir: <span class="built_in">string</span>;</span><br><span class="line">  version: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">module</span>: unknown;</span><br><span class="line">&#125;&gt;;</span><br></pre></td></tr></table></figure><p>å¾ˆæ˜æ˜¾ ä½œè€…çš„æ„æ€æ˜¯ å¦‚æœæ‹¿åˆ°äº†æ‰€æœ‰ç¬¦åˆ path çš„ package é‚£ä¹ˆå°±å°†å®ƒä»¬ä½œä¸º Array è¿”å›</p><p>ä¸‹é¢æ¥å®ç°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¦–å…ˆ æ—¢ç„¶æ˜¯è¿”å› Promise è€Œä¸”åˆæ˜¯åŸç”Ÿæ–¹æ³• é‚£ä¹ˆå°±åœ¨ prototype ä¸Šå®ç°å§</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‚æ•°ï¼šä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚ Array æˆ– String</span></span><br><span class="line"><span class="built_in">Promise</span>.prototype.all = <span class="function"><span class="keyword">function</span>(<span class="params">promises</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> res = [], len = promises.length;</span><br><span class="line">  <span class="keyword">let</span> currentIndex = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">of</span> promises) &#123;</span><br><span class="line">          <span class="built_in">Promise</span>.resolve(p).then(</span><br><span class="line">              <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">                  res.push(val);</span><br><span class="line">                  <span class="keyword">if</span>(++currentIndex === len) &#123;</span><br><span class="line">                      <span class="keyword">return</span> res;</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="comment">// å¦‚æœæ˜¯æœ€åä¸€ä¸ª è¿”å›æ‰€æœ‰ç»“æœ</span></span><br><span class="line">              &#125;,</span><br><span class="line">              <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">return</span> reject(err);</span><br><span class="line">              &#125;</span><br><span class="line">          )</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="built_in">Promise</span>.resolve(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">const</span> promise3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(resolve, <span class="number">100</span>, <span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.prototype.all = <span class="function"><span class="keyword">function</span>(<span class="params">promises</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> res = [], len = promises.length;</span><br><span class="line">  <span class="keyword">let</span> currentIndex = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">of</span> promises) &#123;</span><br><span class="line">          <span class="built_in">Promise</span>.resolve(p).then(</span><br><span class="line">              <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">                  res.push(val);</span><br><span class="line">                  <span class="keyword">if</span>(++currentIndex === len) &#123;</span><br><span class="line">                      <span class="keyword">return</span> res;</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="comment">// å¦‚æœæ˜¯æœ€åä¸€ä¸ª è¿”å›æ‰€æœ‰ç»“æœ</span></span><br><span class="line">              &#125;,</span><br><span class="line">              <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">return</span> reject(err);</span><br><span class="line">              &#125;</span><br><span class="line">          )</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.all([promise1, promise2, promise3]).then(<span class="function">(<span class="params">values</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(values);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š Array [3, 42, &quot;foo&quot;]</span></span><br><span class="line"><span class="comment">// å…¶å®ä¸éš¾ å°±æ˜¯ç†æ¸…æ€è·¯å°±å¥½ ğŸ‰</span></span><br></pre></td></tr></table></figure><h3 id="promise.race">Promise.race</h3><p><code>race</code> ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„æ–¹æ³• å…ˆçœ‹ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/race">MDN</a></p><p>Promise.race(iterable) æ–¹æ³•è¿”å›ä¸€ä¸ª promiseï¼Œä¸€æ—¦è¿­ä»£å™¨ä¸­çš„æŸä¸ªpromiseè§£å†³æˆ–æ‹’ç»ï¼Œè¿”å›çš„ promiseå°±ä¼šè§£å†³æˆ–æ‹’ç»ã€‚</p><p>æ‰€ä»¥è¯´ å’Œä¸Šé¢ Promise.all çš„æ€è·¯å·®ä¸å¤š åªä¸è¿‡ç°åœ¨åªè€ƒè™‘ä¼ å…¥ iterable çš„ç¬¬ä¸€ä¸ªå…ƒç´  ğŸ¤”</p><p>ä¸‹é¢å®ç°ä¸€ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.prototype.race = <span class="function"><span class="keyword">function</span>(<span class="params">promises</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!promises.length) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// Promise.race([]) è¿”å›ä¸€ä¸ª pending çš„ Promise æ°¸è¿œç­‰å¾…ä¸­</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">of</span> promises) &#123;</span><br><span class="line">            <span class="built_in">Promise</span>.resolve(p).then(</span><br><span class="line">                <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> res;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> reject(err);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ä¸ç®¡æ˜¯ resolve è¿˜æ˜¯ reject</span></span><br><span class="line">                <span class="comment">// åªè¦å®Œæˆå°±ç›´æ¥è¿”å›</span></span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æµ‹è¯•ä¸€ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(resolve, <span class="number">500</span>, <span class="string">&#x27;one&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(resolve, <span class="number">100</span>, <span class="string">&#x27;two&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.prototype.race = <span class="function"><span class="keyword">function</span>(<span class="params">promises</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!promises.length) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// Promise.race([]) è¿”å›ä¸€ä¸ª pending çš„ Promise æ°¸è¿œç­‰å¾…ä¸­</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">of</span> promises) &#123;</span><br><span class="line">            <span class="built_in">Promise</span>.resolve(p).then(</span><br><span class="line">                <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> res;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> reject(err);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ä¸ç®¡æ˜¯ resolve è¿˜æ˜¯ reject</span></span><br><span class="line">                <span class="comment">// åªè¦å®Œæˆå°±ç›´æ¥è¿”å›</span></span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.race([promise1, promise2]).then(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// è¾“å‡º &quot;two&quot; è¯´æ˜ promise2 æ›´å¿«</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>âš ï¸ æ³¨æ„ï¼š ä¸€å¼€å§‹æˆ‘æƒ³ç›´æ¥ç”¨ <code>promise[0]</code> è§£å†³é—®é¢˜ ä½†æ˜¯ promise ä¸ä¸€å®šéƒ½æ˜¯åŒæ­¥æ‰§è¡Œçš„ æ¯”å¦‚æµ‹è¯•é‡Œçš„ <code>setTimeout</code> æ‰€ä»¥è¿˜æ˜¯è¦æ‰€æœ‰å…ƒç´ éƒ½å¾—è€ƒè™‘</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;promise.all&quot;&gt;Promise.all&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆè¿˜æ˜¯å…ˆæ¥çœ‹å®šä¹‰ &lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å®ç° JSON.stringify</title>
    <link href="http://yoursite.com/2020/11/01/%E5%AE%9E%E7%8E%B0-JSON-stringify/"/>
    <id>http://yoursite.com/2020/11/01/%E5%AE%9E%E7%8E%B0-JSON-stringify/</id>
    <published>2020-11-01T12:37:47.000Z</published>
    <updated>2020-11-01T14:31:11.975Z</updated>
    
    <content type="html"><![CDATA[<p><code>JSON.stringify</code> æ˜¯å¯ä»¥è¿›è¡Œæ·±æ‹·è´çš„æ–¹æ³•ä¹‹ä¸€ å…ˆæ¥çœ‹ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">MDN</a> ä¸Šçš„æè¿° <code>JSON.stringify()</code> æ–¹æ³•å°†ä¸€ä¸ª JavaScript å¯¹è±¡æˆ–å€¼è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²ï¼Œå¦‚æœæŒ‡å®šäº†ä¸€ä¸ª replacer å‡½æ•°ï¼Œåˆ™å¯ä»¥é€‰æ‹©æ€§åœ°æ›¿æ¢å€¼ï¼Œæˆ–è€…æŒ‡å®šçš„ replacer æ˜¯æ•°ç»„ï¼Œåˆ™å¯é€‰æ‹©æ€§åœ°ä»…åŒ…å«æ•°ç»„æŒ‡å®šçš„å±æ€§ã€‚ ä¸è¿‡è¿™é‡Œæˆ‘å°±å…ˆåªå®ç°æœ€ç®€å•çš„åŠŸèƒ½å§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> student = &#123;</span><br><span class="line">    name: <span class="string">&#x27;Lily&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(student));</span><br><span class="line"><span class="comment">// &#123;&quot;name&quot;:&quot;Lily&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;this is a function&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(fn));</span><br><span class="line"><span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><p>ç”±äºå‡½æ•°ä¸æ˜¯æ ‡å‡†çš„ json æ‰€ä»¥æ— æ³•æ­£å¸¸è§£æä¸ºå­—ç¬¦ä¸²</p><p>ä¸‹é¢æ¥å®ç° <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringify</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> type = <span class="keyword">typeof</span> obj;</span><br><span class="line">    <span class="keyword">if</span>(type !== <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="regexp">/string|function|undefined/</span>.test(type)) &#123;</span><br><span class="line">            obj = <span class="string">&#x27;&quot;&#x27;</span> + obj + <span class="string">&#x27;&quot;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> json = [];</span><br><span class="line">        <span class="keyword">let</span> arr = <span class="built_in">Array</span>.isArray(obj);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">            <span class="keyword">let</span> value = obj[key];</span><br><span class="line">            <span class="keyword">let</span> type = <span class="keyword">typeof</span> value;</span><br><span class="line">            <span class="keyword">if</span>(<span class="regexp">/string|function|undefined/</span>.test(type)) &#123;</span><br><span class="line">                value = <span class="string">`<span class="subst">$&#123;value&#125;</span>`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(type === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">                value = stringify(value);</span><br><span class="line">            &#125;</span><br><span class="line">            json.push(arr ? <span class="string">&quot;&quot;</span> : <span class="string">`<span class="subst">$&#123;key&#125;</span>:<span class="subst">$&#123;value&#125;</span>`</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (arr ? <span class="string">&quot;[&quot;</span> : <span class="string">&quot;&#123;&quot;</span>) + <span class="built_in">String</span>(json) + (arr ? <span class="string">&quot;]&quot;</span> : <span class="string">&quot;&#125;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> æµ‹è¯•ä¸€ä¸‹ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">&#x27;Lily&#x27;</span>,</span><br><span class="line">    fn: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(stringify(obj));</span><br><span class="line"><span class="comment">//  &quot;&#123;name:Lily,fn:function() &#123;</span></span><br><span class="line"><span class="comment">//        console.log(this.name);</span></span><br><span class="line"><span class="comment">//    &#125;&#125;&quot;</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;code&gt;JSON.stringify&lt;/code&gt; æ˜¯å¯ä»¥è¿›è¡Œæ·±æ‹·è´çš„æ–¹æ³•ä¹‹ä¸€ å…ˆæ¥çœ‹ &lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/J
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>JSå®ç°ä¸€ä¸ªç±»</title>
    <link href="http://yoursite.com/2020/10/16/JS%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%B1%BB/"/>
    <id>http://yoursite.com/2020/10/16/JS%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%B1%BB/</id>
    <published>2020-10-16T02:02:58.000Z</published>
    <updated>2020-10-16T11:48:19.289Z</updated>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆ ææ¸…æ¥šæ€ä¹ˆç›´æ¥ç»§æ‰¿ â¬‡ï¸</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parent</span>(<span class="params">family</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.family = family;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">child</span>(<span class="params">parent</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.parent = parent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mom = <span class="keyword">new</span> parent(<span class="string">&#x27;Smith&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> daughter = <span class="keyword">new</span> child(mom);</span><br><span class="line">daughter.prototype = mom.prototype;</span><br><span class="line">daughter.prototype.name = <span class="string">&#x27;Lily&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(mon.prototype.name)</span><br></pre></td></tr></table></figure><p>å…ˆå» <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">MDN</a> å¤ä¹ ä¸€ä¸‹ <code>Object.defineProperty</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyClass</span>(<span class="params">parent, props</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    Fn.prototype = parent;</span><br><span class="line">    <span class="keyword">let</span> fn = <span class="keyword">new</span> Fn();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> props) &#123;</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(fn,key,&#123;</span><br><span class="line">            ...props[key],</span><br><span class="line">            enumerable:<span class="literal">true</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fn();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>const front = new Set([â€™(â€™,â€™{â€™,â€™[â€™])</p><pre><code>let stack = [];let line = '&#123;[()]([])&#125;()[]'.split('');for(let letter of line) &#123;    let flag = true;    if(front.has(letter)) &#123;        stack.push(letter);    &#125; else &#123;        let top = stack.pop();        if(top!==letter) &#123;            flag = false;            break;        &#125;    &#125;&#125;(!flag || stack.length&gt;0) ? print('No') : print('Yes');let stack = [];let line = '&#123;[()]([])&#125;()[]'.split('');let flag = true;for(let letter of line) &#123;    flag = true;    if(front.has(letter)) &#123;        stack.push(letter);    &#125; else &#123;        let top = stack.pop();        if(top!==letter) &#123;            flag = false;            break;        &#125;    &#125;&#125;(!flag || stack.length&gt;0) ? print('No') : print('Yes');</code></pre><p>}</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é¦–å…ˆ ææ¸…æ¥šæ€ä¹ˆç›´æ¥ç»§æ‰¿ â¬‡ï¸&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å®ç°ç»„åˆå‡½æ•°</title>
    <link href="http://yoursite.com/2020/10/11/%E5%AE%9E%E7%8E%B0%E7%BB%84%E5%90%88%E5%87%BD%E6%95%B0/"/>
    <id>http://yoursite.com/2020/10/11/%E5%AE%9E%E7%8E%B0%E7%BB%84%E5%90%88%E5%87%BD%E6%95%B0/</id>
    <published>2020-10-11T14:23:13.000Z</published>
    <updated>2020-10-11T15:14:13.371Z</updated>
    
    <content type="html"><![CDATA[<p>å®ç°ä¸€ä¸ªå¯ä»¥ç»„åˆåˆæˆå¤šä¸ªå‡½æ•°çš„å‡½æ•° <code>compose</code><br />å®ç°æ•ˆæœ â¬‡ï¸</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> double = <span class="function">(<span class="params">a</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>*a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sqrt = <span class="function">(<span class="params">a</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> doubleThenSqrt = compose(sqrt, double);</span><br><span class="line"></span><br><span class="line">doubleThenSqrt(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯ä¸¤ä¸ªå‚æ•° å½“ç„¶å¯ä»¥ç›´æ¥å¥—å¨ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compose = <span class="function">(<span class="params">f,g</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">args</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> f(g(args));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> doubleThenSqrt = compose(sqrt, double);</span><br><span class="line"></span><br><span class="line">doubleThenSqrt(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆä¸‹é¢æ”¹è¿›ä¸€ä¸‹ è€ƒè™‘å¤šä¸ªå‚æ•°çš„æƒ…å†µ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compose = <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">res</span> =&gt;</span> [...args]</span><br><span class="line">    .reduce(</span><br><span class="line">        (res, fn) =&gt; fn(res), res</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> doubleThenSqrtThenDouble = compose(double, sqrt, double);</span><br><span class="line">doubleThenSqrtThenDouble(<span class="number">2</span>);</span><br><span class="line"><span class="comment">//4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> doubleThenSqrt = compose(double,sqrt);</span><br><span class="line">doubleThenSqrt(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å®ç°ä¸€ä¸ªå¯ä»¥ç»„åˆåˆæˆå¤šä¸ªå‡½æ•°çš„å‡½æ•° &lt;code&gt;compose&lt;/code&gt;&lt;br /&gt;
å®ç°æ•ˆæœ â¬‡ï¸&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span cl
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€äº›å…³äºReactçš„å°ç»†èŠ‚</title>
    <link href="http://yoursite.com/2020/10/08/%E4%B8%80%E4%BA%9B%E5%85%B3%E4%BA%8EReact%E7%9A%84%E5%B0%8F%E7%BB%86%E8%8A%82/"/>
    <id>http://yoursite.com/2020/10/08/%E4%B8%80%E4%BA%9B%E5%85%B3%E4%BA%8EReact%E7%9A%84%E5%B0%8F%E7%BB%86%E8%8A%82/</id>
    <published>2020-10-08T02:23:02.000Z</published>
    <updated>2020-11-06T03:30:47.209Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸»è¦æ˜¯ä»Šå¤©è¯»åˆ°äº†è¿™ä¸€ç¯‡æ–‡ç«  <a href="https://medium.com/@baphemot/a-react-job-interview-recruiter-perspective-f1096f54dd16">A React job interview â€” recruiter perspective.</a> ä¸ªäººè§‰å¾—å†™çš„æŒºå¥½ é‚£å°±æ•´ç†ä¸€äº›æ–‡ç« é‡Œæåˆ°çš„é—®é¢˜å§</p><h3 id="ä¸ºä»€ä¹ˆè™½ç„¶æ²¡æœ‰æ˜ç¡®ä½¿ç”¨-react-ä½†æ˜¯è¿˜æ˜¯éœ€è¦-import-react-from-react">ä¸ºä»€ä¹ˆè™½ç„¶æ²¡æœ‰æ˜ç¡®ä½¿ç”¨ React ä½†æ˜¯è¿˜æ˜¯éœ€è¦ <code>import React from 'react'</code></h3><p>è€ƒå¤å®˜ç½‘æ–‡æ¡£ <a href="https://reactjs.org/docs/jsx-in-depth.html">JSX in depth</a> å°±å¯ä»¥æ‰¾åˆ°ç­”æ¡ˆ</p><p>çœ‹ä¸‹è¿™ä¸ªåœ¨çº¿çš„ <a href="https://babeljs.io/repl/#?browsers=defaults%2C%20not%20ie%2011%2C%20not%20ie_mob%2011&amp;build=&amp;builtIns=false&amp;spec=false&amp;loose=false&amp;code_lz=GYVwdgxgLglg9mABACwKYBt1wBQEpEDeAUIogE6pQhlIA8AJjAG4B8AEhlogO5xnr0AhLQD0jVgG4iAXyJA&amp;debug=false&amp;forceAllTransforms=false&amp;shippedProposals=false&amp;circleciRepo=&amp;evaluate=false&amp;fileSize=false&amp;timeTravel=false&amp;sourceType=module&amp;lineWrap=true&amp;presets=react&amp;prettier=false&amp;targets=&amp;version=7.11.6&amp;externalPlugins=">Babel ç¼–è¯‘å™¨çš„ä¾‹å­</a> å°±å¾ˆæ˜æ˜¾å»</p><p>JSX ä¾‹å­ï¼š <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;MyButton color=<span class="string">&quot;blue&quot;</span> shadowSize=&#123;<span class="number">2</span>&#125;&gt;</span><br><span class="line">  Click Me</span><br><span class="line">&lt;/MyButton&gt;</span><br></pre></td></tr></table></figure> ç¼–è¯‘åå¾—åˆ°çš„æ˜¯ï¼š <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*#__PURE__*/</span></span><br><span class="line">React.createElement(MyButton, &#123;</span><br><span class="line">  color: <span class="string">&quot;blue&quot;</span>,</span><br><span class="line">  shadowSize: <span class="number">2</span></span><br><span class="line">&#125;, <span class="string">&quot;Click Me&quot;</span>);</span><br></pre></td></tr></table></figure> å¯è§ JSX æ”¯æŒ <code>React.createElement(component, props, ...children)</code> çš„è¯­æ³•ç³– è™½ç„¶çœ‹èµ·æ¥å†™å¾—åƒ HTML ç¼–è¯‘ä¸€ä¸‹ ä½†è¿˜æ˜¯éœ€è¦ React</p><h3 id="ä¸ºä»€ä¹ˆ-jsx-å†™çš„ç»„ä»¶éœ€è¦é¦–å­—æ¯å¤§å†™">ä¸ºä»€ä¹ˆ JSX å†™çš„ç»„ä»¶éœ€è¦é¦–å­—æ¯å¤§å†™</h3><p>ä»¥ä¸‹æ‘˜è‡ªå®˜ç½‘ï¼š &gt; Capitalized types indicate that the JSX tag is referring to a React component. These tags get compiled into a direct reference to the named variable, so if you use the JSX <Foo /> expression, Foo must be in scope.</p><p>æ‰€ä»¥åªæœ‰å¤§å†™å°±æ˜¯è¯´æ˜â€œæˆ‘æ˜¯ React ç»„ä»¶â€ å°å†™å°±è®¤ä¸ºæ˜¯ HTML æ ‡ç­¾ ğŸ·ï¸ ä¼šç›´æ¥ç¼–è¯‘æˆå¯¹åº”åå­—å˜é‡çš„å¼•ç”¨</p><p>ä¸å¦¨æ¥ä½œæ­» è¯•ä¸€è¯•å°å†™çš„ç»“æœ <a href="https://codepen.io/minae/pen/omwMpZ?editors=0010">çœ‹çœ‹è¿™ä¸ª codepen ä¸Šé¢çš„ä¾‹å­</a></p><p>å¦‚æœæŠŠ <code>instructorsList</code> æ”¹æˆ <code>InstructorsList</code> å°±å¯ä»¥æ¸²æŸ“æˆåŠŸ</p><h3 id="react-ç»„ä»¶çš„ä¸¤ç§å£°æ˜å½¢å¼åˆ†åˆ«ä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸€ç§">React ç»„ä»¶çš„ä¸¤ç§å£°æ˜å½¢å¼ï¼Ÿåˆ†åˆ«ä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸€ç§ï¼Ÿ</h3><p>å¯ä»¥çœ‹çœ‹ <a href="https://reactjs.org/docs/components-and-props.html">Components and Props</a> å¤ä¹ ä¸€ä¸‹ ä¸€ç§æ˜¯å‡½æ•°å¼ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> ä¸€ç§æ˜¯ ES6 class å½¢å¼ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Welcome</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;this.props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> class ä¸»è¦æ˜¯å¯ä»¥è¿›è¡ŒçŠ¶æ€ç®¡ç† ï¼ˆ<code>state</code>ï¼‰å’Œ å¯ä»¥ç”Ÿå‘½å‘¨æœŸå‡½æ•° å®˜ç½‘ä¸Šçš„æ—¶é’Ÿä¾‹å­å¾ˆæ˜æ˜¾ï¼š å‡½æ•°å¼ï¼š <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Clock</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;Hello, world!&lt;/h1&gt;</span><br><span class="line">      &lt;h2&gt;It is &#123;props.date.toLocaleTimeString()&#125;.&lt;/h2&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tick</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ReactDOM.render(</span><br><span class="line">    &lt;Clock date=&#123;<span class="keyword">new</span> <span class="built_in">Date</span>()&#125; /&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setInterval</span>(tick, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure> class å½¢å¼ï¼š <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clock</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line">    <span class="built_in">this</span>.state = &#123;<span class="attr">date</span>: <span class="keyword">new</span> <span class="built_in">Date</span>()&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="built_in">this</span>.timerID = <span class="built_in">setInterval</span>(</span><br><span class="line">      () =&gt; <span class="built_in">this</span>.tick(),</span><br><span class="line">      <span class="number">1000</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(<span class="built_in">this</span>.timerID);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  tick() &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      date: <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;Hello, world!&lt;/h1&gt;</span><br><span class="line">        &lt;h2&gt;It is &#123;<span class="built_in">this</span>.state.date.toLocaleTimeString()&#125;.&lt;/h2&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Clock /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><h3 id="æœ‰çŠ¶æ€çš„ç»„ä»¶çš„æŒ‚è½½è¿‡ç¨‹">æœ‰çŠ¶æ€çš„ç»„ä»¶çš„æŒ‚è½½è¿‡ç¨‹</h3><p>æ ¹æ® <a href="https://reactjs.org/docs/react-component.html">React Component</a> å¯çŸ¥æŒ‚è½½è¿‡ç¨‹é¡ºåºæ˜¯ - constructor() - static getDerivedStateFromProps() - render() - componentDidMount()</p><h3 id="å¦‚æœä½ éœ€è¦ä»-api-å¼‚æ­¥è¯·æ±‚æ•°æ®ä½ ä¼šç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸ºä»€ä¹ˆ">å¦‚æœä½ éœ€è¦ä» API å¼‚æ­¥è¯·æ±‚æ•°æ®ï¼Œä½ ä¼šç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h3><p><code>componentDidMount()</code> åœ¨ç»„ä»¶æŒ‚è½½åç«‹åˆ»æ‰§è¡Œï¼ˆå‘æ ‘ä¸­æ’å…¥ï¼‰ éœ€è¦ DOM èŠ‚ç‚¹çš„åˆå§‹åŒ–è¡Œä¸ºéœ€è¦æ”¾åœ¨è¿™é‡Œ å¦‚æœè¿™é‡Œè®¢é˜…äº† é‚£ä¹ˆåœ¨ <code>componentWillUnmount()</code> é‡Œä¹Ÿä¸è¦å¿˜è®°æ¥è§¦è®¢é˜…</p><p>å› ä¸ºå½“æ•°æ®è¢«è·å–ä¹‹åï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨ <code>setState()</code> æ¥æ›´æ–°ç»„ä»¶ã€‚æ­¤æ—¶ <code>setState()</code> ä¼šå†æ¬¡è§¦å‘æ¸²æŸ“ï¼Œä½†æ˜¯ UI æ›´æ–°åªä¼šå‘ç”Ÿä¸€æ¬¡ï¼Œæ‰€ä»¥ç”¨æˆ·ä¸ä¼šçœ‹åˆ°ä¸­é—´çš„çŠ¶æ€ã€‚</p><p>æ¯”å¦‚ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">  <span class="built_in">this</span>._asyncRequest = loadMyAsyncData().then(</span><br><span class="line">    externalData =&gt; &#123;</span><br><span class="line">      <span class="built_in">this</span>._asyncRequest = <span class="literal">null</span>;</span><br><span class="line">      <span class="built_in">this</span>.setState(&#123;externalData&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> å…³äºè¿™ä¸ªé—®é¢˜ è¿˜å¯ä»¥çœ‹çœ‹ <a href="https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html">Update on Async Rendering</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸»è¦æ˜¯ä»Šå¤©è¯»åˆ°äº†è¿™ä¸€ç¯‡æ–‡ç«  &lt;a href=&quot;https://medium.com/@baphemot/a-react-job-interview-recruiter-perspective-f1096f54dd16&quot;&gt;A React job interview â€” rec
      
    
    </summary>
    
    
    
      <category term="React" scheme="http://yoursite.com/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>å®ç° call, apply, bind</title>
    <link href="http://yoursite.com/2020/10/07/%E5%AE%9E%E7%8E%B0-call-bind-apply/"/>
    <id>http://yoursite.com/2020/10/07/%E5%AE%9E%E7%8E%B0-call-bind-apply/</id>
    <published>2020-10-07T06:33:06.000Z</published>
    <updated>2020-10-07T12:30:08.243Z</updated>
    
    <content type="html"><![CDATA[<h3 id="call"><a class="markdownIt-Anchor" href="#call"></a> call</h3><p>å…ˆå¤ä¹  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call">MDN</a><br /><code>func.call([thisArg[, arg1, arg2, ...argN]])</code><br />æ‰€ä»¥éœ€è¦ä¼ å…¥æŒ‡å®šçš„ <code>this</code> å’Œä¸€ä¸ªå‚æ•°åˆ—è¡¨<br />è¿”å›çš„å°±æ˜¯å‡½æ•°æ‰§è¡Œæœ¬èº«çš„è¿”å›ç»“æœ</p><p>åŒæ—¶å¤ä¹ ä¸€ä¸‹ <code>arguments</code> å‚æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyMax</span>(<span class="params">...arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(args);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(...arr);</span><br><span class="line">&#125;</span><br><span class="line">MyMax(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>);</span><br><span class="line"><span class="comment">/* Arguments(5) [1, 3, 5, 7, 9, callee: (...), Symbol(Symbol.iterator): Æ’]</span></span><br><span class="line"><span class="comment">0: 1</span></span><br><span class="line"><span class="comment">1: 3</span></span><br><span class="line"><span class="comment">2: 5</span></span><br><span class="line"><span class="comment">3: 7</span></span><br><span class="line"><span class="comment">4: 9</span></span><br><span class="line"><span class="comment">callee: (...)</span></span><br><span class="line"><span class="comment">length: 5</span></span><br><span class="line"><span class="comment">Symbol(Symbol.iterator): Æ’ values()</span></span><br><span class="line"><span class="comment">get callee: Æ’ ()</span></span><br><span class="line"><span class="comment">set callee: Æ’ ()</span></span><br><span class="line"><span class="comment">__proto__: Object</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IntoMyMax</span>(<span class="params">...arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(args).slice(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(...arr);</span><br><span class="line">&#125;</span><br><span class="line">IntoMyMax(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>);</span><br><span class="line"><span class="comment">// (5)Â [1, 3, 5, 7, 9]</span></span><br></pre></td></tr></table></figure><p>å¯è§é€šè¿‡ <code>arguments</code> å³å¯å¾—åˆ°å‡½æ•°ä¼ å…¥çš„å‚æ•°</p><p>ä¸‹é¢å¼€å§‹å®ç°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myCall = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> [thisArg, ...args] = [...arguments];</span><br><span class="line">    <span class="keyword">if</span>(!thisArg) &#123;</span><br><span class="line">        thisArg = <span class="built_in">window</span> || globalThis;</span><br><span class="line">    &#125;</span><br><span class="line">    thisArg.func = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">let</span> res = thisArg.func(...args);</span><br><span class="line">    <span class="keyword">delete</span> thisArg.func;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æµ‹è¯•ä¸€ä¸‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PrintAllOfThese</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> a <span class="keyword">of</span> args) <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">PrintAllOfThese.myCall(<span class="built_in">this</span>,<span class="string">&#x27;this&#x27;</span>,<span class="string">&#x27;is&#x27;</span>,<span class="string">&#x27;my&#x27;</span>,<span class="string">&#x27;call&#x27;</span>);</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">this</span></span><br><span class="line"><span class="comment">is</span></span><br><span class="line"><span class="comment">my</span></span><br><span class="line"><span class="comment">call</span></span><br><span class="line"><span class="comment">/*</span></span><br></pre></td></tr></table></figure><h3 id="apply"><a class="markdownIt-Anchor" href="#apply"></a> apply</h3><p>å…ˆå¤ä¹  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply">MDN</a><br />å¯è§å°±æ˜¯ <code>call</code> ç¬¬äºŒä¸ªå‚æ•°ä»å‚æ•°åˆ—è¡¨å˜æˆæ•°ç»„ç½¢äº† æ”¹æ”¹å°±æˆ</p><p>ä¸‹é¢å¼€å§‹å®ç°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myApply = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> [thisArg, args] = [...arguments];</span><br><span class="line">    <span class="keyword">if</span>(!thisArg) &#123;</span><br><span class="line">        thisArg = <span class="built_in">window</span> || globalThis;</span><br><span class="line">    &#125;</span><br><span class="line">    thisArg.func = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">let</span> res = thisArg.func(args);</span><br><span class="line">    <span class="keyword">delete</span> thisArg.func;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æµ‹è¯•ä¸€ä¸‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PrintAllOfThese</span>(<span class="params">args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> a <span class="keyword">of</span> args) <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">PrintAllOfThese.myApply(<span class="built_in">this</span>,[<span class="string">&#x27;this&#x27;</span>,<span class="string">&#x27;is&#x27;</span>,<span class="string">&#x27;my&#x27;</span>,<span class="string">&#x27;apply&#x27;</span>]);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">this</span></span><br><span class="line"><span class="comment">is</span></span><br><span class="line"><span class="comment">my</span></span><br><span class="line"><span class="comment">apply</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="bind"><a class="markdownIt-Anchor" href="#bind"></a> bind</h3><p>å†æ¥å¤ä¹ ä¸‹ <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind">MDN</a><br />å¯¹äºè¿”å›å€¼ MDN è¿™ä¹ˆè¯´<br /><code>A copy of the given function with the specified this value, and initial arguments (if provided).</code></p><p>æ‰€ä»¥è¯´æ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°<br />æŸ¯é‡ŒåŒ–å¥—å¨ƒ è¿™æ ·ï¼ˆï¼Ÿï¼‰</p><p>ä¸‹æ¥æ¥å®ç°ä¸€ä¸‹ â¬‡ï¸</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myBind = <span class="function"><span class="keyword">function</span>(<span class="params">context</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> self = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">let</span> args = [...arguments].slice(<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥æ˜¯ this æ‰€ä»¥ä»ç¬¬äºŒä¸ªå¼€å§‹</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> newArgs = [...arguments];</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> self.apply(context,args.concat(newArgs));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PrintAllOfThese</span>(<span class="params">args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> a <span class="keyword">of</span> args) <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> print = PrintAllOfThese.bind(<span class="built_in">this</span>,[<span class="string">&#x27;this&#x27;</span>,<span class="string">&#x27;is&#x27;</span>,<span class="string">&#x27;my&#x27;</span>,<span class="string">&#x27;bind&#x27;</span>]);</span><br><span class="line">print();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">this</span></span><br><span class="line"><span class="comment">is</span></span><br><span class="line"><span class="comment">my</span></span><br><span class="line"><span class="comment">bind</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;call&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#call&quot;&gt;&lt;/a&gt; call&lt;/h3&gt;
&lt;p&gt;å…ˆå¤ä¹  &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScri
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>instanceof çš„åŸç†ä¸å®ç°</title>
    <link href="http://yoursite.com/2020/10/06/instanceof-%E7%9A%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E7%8E%B0/"/>
    <id>http://yoursite.com/2020/10/06/instanceof-%E7%9A%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E7%8E%B0/</id>
    <published>2020-10-06T00:53:11.000Z</published>
    <updated>2020-10-06T02:01:02.001Z</updated>
    
    <content type="html"><![CDATA[<p>å…ˆå¤ä¹ ä¸€ä¸‹ <code>instanceof</code> çš„èƒŒæ™¯ï¼š<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof">MDN instanceof</a> &gt; The instanceof operator tests to see if the prototype property of a constructor appears anywhere in the prototype chain of an object. The return value is a boolean value.</p><p>æ‰€ä»¥å°±æ˜¯åŸå‹é“¾å›æº¯ çœ‹çœ‹ä¸€è·¯ä¸Šæ˜¯å¦æœ‰ç›¸ç­‰çš„ constructor å» ğŸ¤”</p><p>ä¸‹é¢æ˜¯å®ç°ï¼ˆ<code>__proto__</code> æœ‰ç‚¹å‘ ä¸æ¨èè¿™ç§ç›´æ¥æ‹¿ç§æœ‰å±æ€§çš„å†™æ³•ï¼ï¼ï¼è¯·çœ‹æœ€åï¼‰ â¬‡ï¸ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MyInstanceof = <span class="function">(<span class="params">left, right</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> leftPro = left.__proto__;</span><br><span class="line">    <span class="keyword">let</span> rightPro = right.prototype;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(leftPro === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(leftPro === rightPro) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        leftPro = leftPro.__proto__;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> æµ‹è¯•ä¸€ä¸‹ â¬‡ï¸ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">make, model, year</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.make = make;</span><br><span class="line">  <span class="built_in">this</span>.model = model;</span><br><span class="line">  <span class="built_in">this</span>.year = year;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> auto = <span class="keyword">new</span> Car(<span class="string">&#x27;Honda&#x27;</span>, <span class="string">&#x27;Accord&#x27;</span>, <span class="number">1998</span>);</span><br><span class="line"><span class="built_in">console</span>.log(MyInstanceof(auto, Car));</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure> ### âš ï¸ <code>__proto__</code> æˆ‘çœ‹ <a href="Object.getPrototypeOf(left);">MDN</a> çš„æ—¶å€™å‘ç° <code>__proto__</code> ä¸å†è¢«æ¨èå» æ‰€ä»¥æˆ‘è§‰å¾— æ˜¯ä¸æ˜¯æ”¹ç”¨ <code>Object.getPrototypeOf</code> å¥½ç‚¹ï¼Ÿï¼Ÿï¼Ÿ æ¯•ç«Ÿ <code>left.__proto === Object.getPrototypeOf(left)</code> ç»“æœæ˜¯ <code>true</code></p><p>ä¸‹é¢æ˜¯æ”¹åŠ¨åçš„å®ç° â¬‡ï¸ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MyUpdatedInstanceof = <span class="function">(<span class="params">left, right</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> leftPro = <span class="built_in">Object</span>.getPrototypeOf(left);</span><br><span class="line">    <span class="keyword">let</span> rightPro = right.prototype;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(leftPro === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(leftPro === rightPro) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        leftPro = <span class="built_in">Object</span>.getPrototypeOf(left);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> æµ‹è¯•ä¸€ä¸‹ â¬‡ï¸ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">make, model, year</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.make = make;</span><br><span class="line">  <span class="built_in">this</span>.model = model;</span><br><span class="line">  <span class="built_in">this</span>.year = year;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> newAuto = <span class="keyword">new</span> Car(<span class="string">&#x27;Honda&#x27;</span>, <span class="string">&#x27;Accord&#x27;</span>, <span class="number">1998</span>);</span><br><span class="line"><span class="built_in">console</span>.log(MyUpdatedInstanceof(newAuto, Car));</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å…ˆå¤ä¹ ä¸€ä¸‹ &lt;code&gt;instanceof&lt;/code&gt; çš„èƒŒæ™¯ï¼š&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof&quot;&gt;MDN in
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å®ç°debounce/throttle</title>
    <link href="http://yoursite.com/2020/10/04/%E5%AE%9E%E7%8E%B0debounce-throttle/"/>
    <id>http://yoursite.com/2020/10/04/%E5%AE%9E%E7%8E%B0debounce-throttle/</id>
    <published>2020-10-04T10:00:57.000Z</published>
    <updated>2020-10-05T01:46:44.234Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é˜²æŠ–-debounce">é˜²æŠ– debounce</h3><p><code>debounce</code> å³é˜²æŠ– å¸¸è§äºé¢‘ç¹æ“ä½œ <code>resize</code>, <code>mousemove</code>, <code>scroll</code>, <code>keypress</code> ç­‰è¡Œä¸ºçš„åœºæ™¯</p><p>å¯¹äºå¤šæ¬¡çš„è¿ç»­åŠ¨ä½œ ç­‰åˆ°å¹³æ¯å åªæäº¤ä¸€æ¬¡ ä¸‹é¢æ¥æ‰‹æ’• â¬‡ï¸ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> debounce = <span class="function">(<span class="params">func, delay</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> timer;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="built_in">this</span>;</span><br><span class="line">        <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            func.apply(context, args);</span><br><span class="line">        &#125;, delay);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å†™ä¸ªæµ‹è¯• â¬‡ï¸ ä¸€ä¸ªæ˜¾ç¤ºé¼ æ ‡ä½ç½®çš„å° demo <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;playground&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-id">#playground</span> &#123;</span></span><br><span class="line">  width: 100vh;</span><br><span class="line">  height: 100vh;</span><br><span class="line">  background: yellow;</span><br><span class="line">  color: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> playground = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;playground&#x27;</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> getUserAction = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(event);</span></span><br><span class="line"><span class="javascript">    playground.innerHTML = event.clientX + <span class="string">&#x27;, &#x27;</span> + event.clientY;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="javascript"><span class="keyword">const</span> debounce = <span class="function">(<span class="params">func, delay</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> timer;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> context = <span class="built_in">this</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearTimeout</span>(timer);</span></span><br><span class="line"><span class="javascript">        timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">            func.apply(context, args);</span><br><span class="line"><span class="javascript">            <span class="comment">// è€ƒè™‘åˆ°éœ€è¦ä¼ å…¥ event çš„æƒ…å†µ éœ€è¦ç»‘å®š å¯¹åº”å¯¹è±¡çš„ this å¹¶ä¸”ä¼ å…¥å‚æ•°</span></span></span><br><span class="line">        &#125;, delay);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">playground.onmousemove = debounce(getUserAction</span><br><span class="line">,1000);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure> codepen ç›´é€šè½¦ ğŸš— ï¼š <a href="https://codepen.io/yuanruqian/pen/ZEWgMaM">Debounce demo test</a> æµ‹è¯•æ˜¾ç¤º ç¡®å®æ˜¯åœä¸‹åä¸€ç§’å†æ˜¾ç¤º</p><h3 id="èŠ‚æµ-throttle">èŠ‚æµ throttle</h3><p><code>throttle</code> å³èŠ‚æµ å°±æ˜¯æ¯éš”æ®µæ—¶é—´åªæ‰§è¡Œä¸€æ¬¡ å¾ˆæ˜¾ç„¶ è¦ä¹ˆæ˜¯è®°å½•ä¸€ä¸‹æ—¶é—´çœ‹å½“å‰æ—¶é—´æœ‰æ²¡æœ‰è¶…è¿‡ æˆ–è€… ç›´æ¥ç”¨å®šæ—¶å™¨è§£å†³</p><h4 id="æ—¶é—´æ¯”è¾ƒæ³•">æ—¶é—´æ¯”è¾ƒæ³•</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> throttleByTime = <span class="function">(<span class="params">fn, delay</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> prev = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> curr = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">        <span class="keyword">let</span> context = <span class="built_in">this</span>;</span><br><span class="line">        <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">        <span class="keyword">if</span>((curr - prev)&gt;delay) &#123;</span><br><span class="line">            fn.apply(context, args);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å®šæ—¶å™¨æ³•">å®šæ—¶å™¨æ³•</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> throttleByInterval = <span class="function">(<span class="params">fn, delay</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> timer;</span><br><span class="line">    <span class="keyword">let</span> prev = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="built_in">this</span>;</span><br><span class="line">        <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">        <span class="keyword">if</span>(!timer) &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                fn.apply(context, args);</span><br><span class="line">            &#125;, delay);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»§ç»­å†™ä¸ªæµ‹è¯• â¬‡ï¸ <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;manual&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;automatic&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-id">#container</span> &#123;</span></span><br><span class="line">  display: grid;</span><br><span class="line">  grid-column-gap: 10vh;</span><br><span class="line">  grid-template-columns: auto auto;</span><br><span class="line"><span class="css">  <span class="selector-tag">background-color</span>: <span class="selector-id">#2196F3</span>;</span></span><br><span class="line">  padding: 10vh;</span><br><span class="line">  height: 50vh;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-id">#manual</span> &#123;</span></span><br><span class="line">  background: yellow;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-id">#automatic</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">background</span>: <span class="selector-id">#66ccff</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> playground = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;playground&#x27;</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> getUserAction = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(event);</span></span><br><span class="line"><span class="javascript">    playground.innerHTML = event.clientX + <span class="string">&#x27;, &#x27;</span> + event.clientY;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="javascript"><span class="keyword">const</span> debounce = <span class="function">(<span class="params">func, delay</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> timer;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> context = <span class="built_in">this</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearTimeout</span>(timer);</span></span><br><span class="line"><span class="javascript">        timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">            func.apply(context, args);</span><br><span class="line"><span class="javascript">            <span class="comment">// è€ƒè™‘åˆ°éœ€è¦ä¼ å…¥ event çš„æƒ…å†µ éœ€è¦ç»‘å®š å¯¹åº”å¯¹è±¡çš„ this å¹¶ä¸”ä¼ å…¥å‚æ•°</span></span></span><br><span class="line">        &#125;, delay);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">playground.onmousemove = debounce(getUserAction</span><br><span class="line">,1000);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>codepen ç›´é€šè½¦ ğŸš—ï¼š <a href="https://codepen.io/yuanruqian/pen/bGpXJoW">Throttle demo test</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;é˜²æŠ–-debounce&quot;&gt;é˜²æŠ– debounce&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;debounce&lt;/code&gt; å³é˜²æŠ– å¸¸è§äºé¢‘ç¹æ“ä½œ &lt;code&gt;resize&lt;/code&gt;, &lt;code&gt;mousemove&lt;/code&gt;, &lt;code&gt;scroll&lt;/code&gt;,
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å®ç°æŸ¯é‡ŒåŒ–</title>
    <link href="http://yoursite.com/2020/10/04/%E5%AE%9E%E7%8E%B0%E6%9F%AF%E9%87%8C%E5%8C%96/"/>
    <id>http://yoursite.com/2020/10/04/%E5%AE%9E%E7%8E%B0%E6%9F%AF%E9%87%8C%E5%8C%96/</id>
    <published>2020-10-04T02:29:05.000Z</published>
    <updated>2020-10-04T04:35:22.980Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æŠŠä¹‹å‰åˆ·é¢˜çš„è®°å½•éƒ½åˆ æ‰äº† å°± æ„Ÿè§‰åšå®¢è¿˜æ˜¯ä¸åº”è¯¥å•çº¯åˆ·é¢˜ ä¸å¦‚æ‰‹æ’• API è¿™æ · ğŸ¤” ä¸å¤ªåæ‚” ä¹Ÿä¸å¿ƒç–¼ ï¼ˆè¯´æ˜æˆ‘ä¹‹å‰æå¾—çœŸçš„æ²¡æœ‰ä»·å€¼ ğŸ˜­</p><p>å¥½äº†ä¸è¯´äº† å¼€å§‹æ‰‹æ’• è¿™æ˜¯éœ€è¦è¾¾æˆçš„æ ·å­ â¬‡ï¸ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> curriedSum = curry(sum);</span><br><span class="line"></span><br><span class="line">alert( curriedSum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) ); <span class="comment">// 6, still callable normally</span></span><br><span class="line">alert( curriedSum(<span class="number">1</span>)(<span class="number">2</span>,<span class="number">3</span>) ); <span class="comment">// 6, currying of 1st arg</span></span><br><span class="line">alert( curriedSum(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>) ); <span class="comment">// 6, full currying</span></span><br></pre></td></tr></table></figure> æ—¢ç„¶æ˜¯â€œè¿è´¯çš„â€ è¿”å›çš„è‚¯å®šä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°</p><p>å…ˆæ¥çœ‹ä¸‹ ä¸€ä¸ªå‡½æ•° å¦‚ä½•è·å–å®ƒçš„å‚æ•°ç­‰åŸºæœ¬ä¿¡æ¯ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);  </span><br><span class="line">  <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line">sum.length;</span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line">sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">// Arguments(3)Â [1, 2, 3, callee: Æ’, Symbol(Symbol.iterator): Æ’]</span></span><br></pre></td></tr></table></figure> æ‰€ä»¥å¯ä»¥é€šè¿‡å†…éƒ¨è°ƒç”¨ <code>argumemts.length</code> è·å–ä¼ å…¥çš„å‚æ•°ä¸ªæ•° å¯ä»¥é€šè¿‡ <code>fn.length</code> è·å–éœ€è¦çš„å‚æ•°ä¸ªæ•° ç”±ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºæ¥ å¦‚æœ <code>fn.length</code> å¤§äº <code>arguments.length</code> éœ€è¦è¿”å›ä¸€ä¸ªå‡½æ•°ä»¥ä¾›ä¹‹åè°ƒç”¨ å³ <code>curriedSum(1)(2,3)</code> å¦‚æœ <code>fn.length</code> ç­‰äº <code>arguments.length</code> ç«‹å³æ‰§è¡Œå³å¯ å³ <code>curriedSum(1,2,3)</code> ä¸‹é¢å¼€å§‹å®ç° â¬‡ï¸ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> curry = <span class="function"><span class="params">fn</span> =&gt;</span></span><br><span class="line">    judge = <span class="function">(<span class="params">...args</span>) =&gt;</span></span><br><span class="line">        args.length === fn.length</span><br><span class="line">            ? fn(...args)</span><br><span class="line">            <span class="comment">// ç›´æ¥ç«‹åˆ»æ‰§è¡Œ</span></span><br><span class="line">            : <span class="function">(<span class="params">arg</span>) =&gt;</span> judge(...args, arg)</span><br><span class="line">            <span class="comment">// æœ¬æ¬¡å‚æ•°å’Œä¸Šæ¬¡çš„ ...args åˆå¹¶ é€’å½’</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ä¸€ä¸‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> curriedSum = curry(sum);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(curriedSum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));</span><br><span class="line"><span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(curriedSum(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>));</span><br><span class="line"><span class="comment">// 6</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šå¤©æŠŠä¹‹å‰åˆ·é¢˜çš„è®°å½•éƒ½åˆ æ‰äº† å°± æ„Ÿè§‰åšå®¢è¿˜æ˜¯ä¸åº”è¯¥å•çº¯åˆ·é¢˜ ä¸å¦‚æ‰‹æ’• API è¿™æ · ğŸ¤” ä¸å¤ªåæ‚” ä¹Ÿä¸å¿ƒç–¼ ï¼ˆè¯´æ˜æˆ‘ä¹‹å‰æå¾—çœŸçš„æ²¡æœ‰ä»·å€¼ ğŸ˜­&lt;/p&gt;
&lt;p&gt;å¥½äº†ä¸è¯´äº† å¼€å§‹æ‰‹æ’• è¿™æ˜¯éœ€è¦è¾¾æˆçš„æ ·å­ â¬‡ï¸ &lt;figure class=&quot;highlight javascr
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å®ç°æ·±æ‹·è´</title>
    <link href="http://yoursite.com/2020/10/03/%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D/"/>
    <id>http://yoursite.com/2020/10/03/%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D/</id>
    <published>2020-10-03T00:58:03.000Z</published>
    <updated>2020-10-03T02:51:48.322Z</updated>
    
    <content type="html"><![CDATA[<p>æ·±æ‹·è´çš„å®ç°ä¹Ÿæ˜¯ç¬”è¯•å¾ˆå¸¸è§çš„é¢˜ç›®å»</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> deepClone = <span class="function">(<span class="params">target</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> target !== <span class="string">&#x27;object&#x27;</span> || target === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> clone = <span class="built_in">Array</span>.isArray(target) ? [] : &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> target) &#123;</span><br><span class="line">        clone[key] = deepClone(target[key]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> clone;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™å…ˆä¸è€ƒè™‘å¾ªç¯å¼•ç”¨çš„é—®é¢˜ å…ˆæ¥æµ‹è¯•ä¸‹ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> test = &#123;</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">    b: &#123;</span><br><span class="line">        c: <span class="number">2</span>,</span><br><span class="line">        d: &#123;</span><br><span class="line">            e:<span class="number">3</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(deepClone(test));</span><br><span class="line"><span class="comment">// &#123;a: 1, b: &#123;â€¦&#125;&#125; ğŸ‘Œ</span></span><br></pre></td></tr></table></figure> æ¥ä¸‹æ¥è¯¥è€ƒè™‘ å¾ªç¯å¼•ç”¨çš„é—®é¢˜ æ¯”å¦‚ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> test = &#123;</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">&#125;</span><br><span class="line">test.b = test;</span><br><span class="line"><span class="built_in">console</span>.log(test);</span><br></pre></td></tr></table></figure> ç›´æ¥ç”¨ä¸Šé¢çš„ <code>deepClone</code> ä¼šçˆ†æ ˆâ€¦â€¦ æç¤º <code>Uncaught RangeError: Maximum call stack size exceeded</code> é‚£ä¹ˆè‡ªç„¶æ˜¯éœ€è¦ä¸€ä¸ªæš‚æ—¶çš„å‚¨å­˜å»å‚¨å­˜å·²ç»å¤åˆ¶çš„ key-value æ¥çœ‹çœ‹æ–°çš„ key æ˜¯å¦åœ¨è¿™ä¸ª key-value é›†åˆä¸­å‡ºç°è¿‡ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> deepClone = <span class="function">(<span class="params">target, map = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> target !== <span class="string">&#x27;object&#x27;</span> || target === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(map.get(target)) <span class="keyword">return</span> map.get(target);</span><br><span class="line">    <span class="keyword">let</span> clone = <span class="built_in">Array</span>.isArray(target) ? [] : &#123;&#125;;</span><br><span class="line">    map.set(target,clone);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> target) &#123;</span><br><span class="line">        clone[key] = deepClone(target[key],map);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> clone;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> å†æ¥æµ‹è¯•ä¸‹ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> test = &#123;</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">&#125;</span><br><span class="line">test.b = test;</span><br><span class="line"><span class="built_in">console</span>.log(deepClone(test));</span><br><span class="line"><span class="comment">// &#123;a: 1, b: &#123;â€¦&#125;&#125; æ­£å¸¸å» ğŸ˜„</span></span><br></pre></td></tr></table></figure> å†æ¥ç€è€ƒè™‘ <code>Date</code> å’Œ <code>RegExp</code> çš„é—®é¢˜ å› ä¸ºè¿™ä¸¤ç±»è¿˜æ˜¯æœ‰äº›é—®é¢˜ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> test2 = &#123;</span><br><span class="line">    a: <span class="regexp">/\d&#123;2&#125;/</span>,</span><br><span class="line">    b: <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;2020-8-15&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> clone = deepClone(test2);</span><br><span class="line"><span class="built_in">console</span>.log(clone.a,clone.b);</span><br><span class="line"><span class="comment">// &#123;&#125; &#123;&#125; è¾“å‡ºä¸¤ä¸ªç©ºå¯¹è±¡ ğŸ¤”</span></span><br></pre></td></tr></table></figure> å†æ”¹æ”¹ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> deepClone = <span class="function">(<span class="params">target, map = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> target !== <span class="string">&#x27;object&#x27;</span> || target === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(map.get(target)) <span class="keyword">return</span> map.get(target);</span><br><span class="line">    <span class="keyword">let</span> clone = <span class="built_in">Array</span>.isArray(target) ? [] : &#123;&#125;;</span><br><span class="line">    map.set(target,clone);</span><br><span class="line">    <span class="keyword">if</span>(target <span class="keyword">instanceof</span> <span class="built_in">RegExp</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">RegExp</span>(target);</span><br><span class="line">    <span class="keyword">if</span>(target <span class="keyword">instanceof</span> <span class="built_in">Date</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(target);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> target) &#123;</span><br><span class="line">        clone[key] = deepClone(target[key],map);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> clone;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> ç»§ç»­æµ‹è¯• <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> test2 = &#123;</span><br><span class="line">    a: <span class="regexp">/\d&#123;2&#125;/</span>,</span><br><span class="line">    b: <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;2020-8-15&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> clone = deepClone(test2);</span><br><span class="line"><span class="built_in">console</span>.log(clone.a,clone.b);</span><br><span class="line"><span class="comment">// /\d&#123;2&#125;/ Sat Aug 15 2020 00:00:00 GMT+0800 (China Standard Time) OKæƒ¹ ğŸ‰</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ·±æ‹·è´çš„å®ç°ä¹Ÿæ˜¯ç¬”è¯•å¾ˆå¸¸è§çš„é¢˜ç›®å»&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€é“ç¬”è¯•é¢˜ï¼šJSæ¨¡ç‰ˆå­—ç¬¦ä¸²æ›¿æ¢</title>
    <link href="http://yoursite.com/2020/09/29/%E4%B8%80%E9%81%93%E7%AC%94%E8%AF%95%E9%A2%98%EF%BC%9AJS%E6%A8%A1%E7%89%88%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9B%BF%E6%8D%A2/"/>
    <id>http://yoursite.com/2020/09/29/%E4%B8%80%E9%81%93%E7%AC%94%E8%AF%95%E9%A2%98%EF%BC%9AJS%E6%A8%A1%E7%89%88%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9B%BF%E6%8D%A2/</id>
    <published>2020-09-29T14:49:48.000Z</published>
    <updated>2020-09-29T15:14:37.163Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šæ™šé‡‘å±±WPSç¬”è¯•åˆåŒå’å•é‡åˆ°äº† è¿˜ç®—æŒºé«˜é¢‘çš„ç¬”è¯•é¢˜8</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;The final answer is :&#123;&#123;finalAnswer&#125;&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">finalAnswer</span> : <span class="string">&#x27;42&#x27;</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(render(str,obj));</span><br><span class="line"><span class="comment">// è¦æ±‚è¾“å‡ºï¼šThe final answer is :42</span></span><br></pre></td></tr></table></figure><p>æ•´ç†ä¸€ä¸‹æ€è·¯å¥½äº†ï¼ˆ èœé¸¡è½æ³ª.jpg</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> render = <span class="function">(<span class="params">str, obj</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> s = str;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="keyword">const</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;&#123;&#123;&#x27;</span>+key+<span class="string">&#x27;&#125;&#125;&#x27;</span>,<span class="string">&#x27;g&#x27;</span>);</span><br><span class="line">        s = s.replace(reg,obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;The final answer is :&#123;&#123;finalAnswer&#125;&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">finalAnswer</span> : <span class="string">&#x27;42&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> render = <span class="function">(<span class="params">str, obj</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> s = str;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="keyword">const</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;&#123;&#123;&#x27;</span>+key+<span class="string">&#x27;&#125;&#125;&#x27;</span>,<span class="string">&#x27;g&#x27;</span>);</span><br><span class="line">        s = s.replace(reg,obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(render(str,obj));</span><br><span class="line"><span class="comment">// The final answer is :42 </span></span><br></pre></td></tr></table></figure></p><p>ä¹‹å‰çš„æƒ³æ³•æ˜¯å…ˆæ­£åˆ™æå– ç¬¦åˆ <code>&#123;&#123;xxx&#125;&#125;</code> æ ¼å¼çš„ ç„¶åå– <code>$n</code> æ›¿æ¢ è¿˜æ˜¯ naÃ¯ve å» æ˜æ˜¾ç»™å®šçš„ key æ¯”æ‰‹æ’•ä¸€ä¸ª å…¨å±€åŒ¹é… <code>&#123;&#123;xxx&#125;&#125;</code> çš„ç®€å•ç‚¹ä¸æ˜¯å—ï¼ˆé€ƒ</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šæ™šé‡‘å±±WPSç¬”è¯•åˆåŒå’å•é‡åˆ°äº† è¿˜ç®—æŒºé«˜é¢‘çš„ç¬”è¯•é¢˜8&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;s
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç”±ä¸€é“é¢è¯•é¢˜çœ‹promise</title>
    <link href="http://yoursite.com/2020/09/16/%E7%94%B1%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98%E7%9C%8Bpromise/"/>
    <id>http://yoursite.com/2020/09/16/%E7%94%B1%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98%E7%9C%8Bpromise/</id>
    <published>2020-09-16T03:55:41.000Z</published>
    <updated>2020-09-16T04:00:34.496Z</updated>
    
    <content type="html"><![CDATA[<blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">            resolve();</span><br><span class="line">            reject()</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        promise.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">        &#125;,() =&gt; &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"å¤±è´¥çš„çŠ¶æ€"</span>)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">4</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure></blockquote><p>â¬†ï¸ è¿™æ˜¯åŸé¢˜ç›®</p><p>è¾“å‡ºé¡ºåºä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure><p>å› ä¸º promise åªæœ‰ä¸‰ä¸ªçŠ¶æ€</p><p><code>pending</code> , <code>fulfilled</code> , <code>rejected</code></p><p>ä¸” <code>pending</code> å˜ä¸ºä»»æ„åä¸¤è€…å çŠ¶æ€ä¸ä¼šå†æ”¹å˜</p><p>æ•…æ­¤å¤„å…ˆå˜ä¸º <code>fulfilled</code> å <code>reject()</code> æ— æ•ˆ</p><p>æ‰€ä»¥ <code>then</code> å›è°ƒè¿˜æ˜¯ä¼šè°ƒç”¨ <code>resolve()</code> çš„å¯¹åº”è¾“å‡º <code>console.log(3);</code></p><p>åŒç† å¦‚æœæˆ‘ä»¬è°ƒæ¢ä¸€ä¸‹é¡ºåº</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">    reject();</span><br><span class="line">    resolve();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">promise.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">&#125;,() =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"å¤±è´¥çš„çŠ¶æ€"</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">4</span>);</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶çš„è¾“å‡ºå°±æ˜¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line">å¤±è´¥çš„çŠ¶æ€</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/sp
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>æ•°ç»„å»é‡æ–¹æ³•æ¢³ç†</title>
    <link href="http://yoursite.com/2020/09/16/%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%E6%96%B9%E6%B3%95%E6%A2%B3%E7%90%86/"/>
    <id>http://yoursite.com/2020/09/16/%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%E6%96%B9%E6%B3%95%E6%A2%B3%E7%90%86/</id>
    <published>2020-09-16T03:32:28.000Z</published>
    <updated>2020-09-16T03:40:49.437Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æµ‹è¯•æ•°ç»„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>]; </span><br></pre></td></tr></table></figure></blockquote><h3 id="es6-set-æ–¹æ³•"><a class="markdownIt-Anchor" href="#es6-set-æ–¹æ³•"></a> ES6 Set æ–¹æ³•</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> noRepeat = <span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="filter-æ–¹æ³•"><a class="markdownIt-Anchor" href="#filter-æ–¹æ³•"></a> Filter æ–¹æ³•</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> noRepeat2 = <span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> arr.filter(<span class="function">(<span class="params">item,index</span>)=&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> arr.indexOf(item)===index;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="object-key-ä¸å¯é‡å¤"><a class="markdownIt-Anchor" href="#object-key-ä¸å¯é‡å¤"></a> Object key ä¸å¯é‡å¤</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> noReapeat3 = <span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">  <span class="keyword">return</span> arr.filter( <span class="function"><span class="params">ele</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> obj.hasOwnProperty(<span class="keyword">typeof</span> ele + ele) ? <span class="literal">false</span>: (obj[<span class="keyword">typeof</span> ele + ele] = <span class="literal">true</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æµ‹è¯•æ•°ç»„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>æ•°ç»„æ‰å¹³åŒ–æ–¹æ³•æ¢³ç†</title>
    <link href="http://yoursite.com/2020/09/16/%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96%E6%96%B9%E6%B3%95%E6%A2%B3%E7%90%86/"/>
    <id>http://yoursite.com/2020/09/16/%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96%E6%96%B9%E6%B3%95%E6%A2%B3%E7%90%86/</id>
    <published>2020-09-16T02:55:43.000Z</published>
    <updated>2020-09-16T03:16:16.182Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æµ‹è¯•æ•°ç»„:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,[<span class="number">2</span>,[<span class="number">3</span>,[<span class="number">4</span>]]]];</span><br></pre></td></tr></table></figure></blockquote><h3 id="è½¬ä¸º-string">è½¬ä¸º string</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flatten = <span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">String</span>(arr).split(<span class="string">','</span>).map(<span class="built_in">Number</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨ string çš„ç‰¹æ€§</p><p>âš ï¸ æ³¨æ„è¿”å›å€¼ä¸º string , éœ€è¦è½¬åŒ–ä¸º number</p><h3 id="é€’å½’">é€’å½’</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flatten2 = <span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">accumulator, currentValue</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> accumulator.concat(<span class="built_in">Array</span>.isArray(currentValue)?flatten2(currentValue):currentValue);</span><br><span class="line">    &#125;,[]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æµ‹è¯•æ•°ç»„:&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode 1315. Sum of Nodes with Even-Valued Grandparent</title>
    <link href="http://yoursite.com/2020/08/29/LeetCode-1315-Sum-of-Nodes-with-Even-Valued-Grandparent/"/>
    <id>http://yoursite.com/2020/08/29/LeetCode-1315-Sum-of-Nodes-with-Even-Valued-Grandparent/</id>
    <published>2020-08-29T03:41:52.000Z</published>
    <updated>2020-08-29T03:43:32.523Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Given a binary tree, return the sum of values of nodes with even-valued grandparent. (A <em>grandparent</em> of a node is the parent of its parent, if it exists.)</p><p>If there are no nodes with an even-valued grandparent, return <code>0</code>.</p><p><strong>Example 1:</strong></p><p><strong><img src="https://assets.leetcode.com/uploads/2019/07/24/1473_ex1.png" alt="img" /></strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: root &#x3D; [6,7,8,2,7,1,3,9,null,1,4,null,null,null,5]</span><br><span class="line">Output: 18</span><br><span class="line">Explanation: The red nodes are the nodes with even-value grandparent while the blue nodes are the even-value grandparents.</span><br></pre></td></tr></table></figure><p><strong>Constraints:</strong></p><ul><li>The number of nodes in the tree is between <code>1</code> and <code>10^4</code>.</li><li>The value of nodes is between <code>1</code> and <code>100</code>.</li></ul></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val, left, right) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = (val===undefined ? 0 : val)</span></span><br><span class="line"><span class="comment"> *     this.left = (left===undefined ? null : left)</span></span><br><span class="line"><span class="comment"> *     this.right = (right===undefined ? null : right)</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;TreeNode&#125;</span> <span class="variable">root</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> sumEvenGrandparent = <span class="function">(<span class="params">root</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> dfs(root,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">  <span class="comment">// start from root so the parent &amp; grand parent nodes do not exist ! just assign some random odd values</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dfs = <span class="function">(<span class="params">root,parent,grandparent</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(!root) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> dfs(root.left,root.val,parent) + dfs(root.right,root.val,parent)+(grandparent%<span class="number">2</span>===<span class="number">0</span>?root.val:<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Given a binary tree, return the sum of values of nodes with even-valued grandparent. (A &lt;em&gt;grandparent&lt;/em&gt; of a node is th
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>JS å°†æ•°å­—è½¬æ¢ä¸ºè´§å¸å½¢å¼</title>
    <link href="http://yoursite.com/2020/08/16/JS-%E5%B0%86%E6%95%B0%E5%AD%97%E8%BD%AC%E6%8D%A2%E4%B8%BA%E8%B4%A7%E5%B8%81%E5%BD%A2%E5%BC%8F/"/>
    <id>http://yoursite.com/2020/08/16/JS-%E5%B0%86%E6%95%B0%E5%AD%97%E8%BD%AC%E6%8D%A2%E4%B8%BA%E8%B4%A7%E5%B8%81%E5%BD%A2%E5%BC%8F/</id>
    <published>2020-08-16T09:02:40.000Z</published>
    <updated>2020-08-16T12:37:52.333Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å°†å„ç§æ•°å­—æ•´æ•°éƒ¨åˆ†è½¬æ¢ä¸ºä¸‰ä¸ªæ•°å­—ä¸€ä¸ªé€—å·éš”æ–­çš„å½¢å¼</p><p>æ¯”å¦‚ : 111111 =&gt; 111,111</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">string res;</span><br><span class="line">        int n &#x3D; num.size(), keep &#x3D; n - k;</span><br><span class="line">        for (char c : num) &#123;</span><br><span class="line">            while (k &amp;&amp; res.size() &amp;&amp; res.back() &gt; c) &#123;</span><br><span class="line">                res.pop_back();</span><br><span class="line">                --k;</span><br><span class="line">            &#125;</span><br><span class="line">            if (res.size() || c !&#x3D; &#39;0&#39;) res.push_back(c);</span><br><span class="line">        &#125;</span><br><span class="line">        while (res.size() &amp;&amp; k--) res.pop_back();</span><br><span class="line">        return res.empty() ? &quot;0&quot; : res;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å°†å„ç§æ•°å­—æ•´æ•°éƒ¨åˆ†è½¬æ¢ä¸ºä¸‰ä¸ªæ•°å­—ä¸€ä¸ªé€—å·éš”æ–­çš„å½¢å¼&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ : 111111 =&amp;gt; 111,111&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td 
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>JS è¯æ³•ä½œç”¨åŸŸ</title>
    <link href="http://yoursite.com/2020/08/16/JS-%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F/"/>
    <id>http://yoursite.com/2020/08/16/JS-%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F/</id>
    <published>2020-08-16T02:56:05.000Z</published>
    <updated>2020-08-16T07:34:44.475Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> value = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'foo:'</span>,value,<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> value = <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'bar:'</span>,value,<span class="keyword">this</span>);</span><br><span class="line">    foo();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bar();</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bar: 2 WindowÂ &#123;parent: Window, opener: null, top: Window, length: 0, frames: Window,Â â€¦&#125;</span><br><span class="line">foo: 1 WindowÂ &#123;parent: Window, opener: null, top: Window, length: 0, frames: Window,Â â€¦&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ foo å‡½æ•°ä¼šå…ˆä» foo å‡½æ•°å†…éƒ¨æŸ¥æ‰¾æ˜¯å¦æœ‰å±€éƒ¨å˜é‡ value</p><p>å¦‚æœæ²¡æœ‰å°±æŸ¥æ‰¾ä¸Šé¢ä¸€å±‚çš„ä»£ç  å…¨å±€ window ä¹Ÿå°±æ˜¯ value ç­‰äº 1</p><p>bar å‡½æ•° å†…éƒ¨ æœ‰ value = 2 æ‰€ä»¥æ‰§è¡Œ bar ä¼šè¾“å‡º 2</p><p><em>JSæ˜¯é™æ€è¯æ³•ä½œç”¨åŸŸ</em></p><p>å¦‚æœæ˜¯åŠ¨æ€çš„è¯æ³•ä½œç”¨åŸŸ å¦‚ bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">value=1</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span> () &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$value</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">bar</span></span> () &#123;</span><br><span class="line">    <span class="built_in">local</span> value=2;</span><br><span class="line">    foo;</span><br><span class="line">&#125;</span><br><span class="line">bar</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yuanruqian@lydia ~ % bash scope.bash</span><br><span class="line">2</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">name :<span class="number">1</span>,</span><br><span class="line">b:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name++;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a.b():'</span>,a.b())</span><br><span class="line"><span class="keyword">var</span> c = a.b</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'c():'</span>,c())</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line">a.b(): <span class="number">2</span></span><br><span class="line">c(): <span class="number">2</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span 
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å…¬å¹³æ´—ç‰Œç®—æ³•</title>
    <link href="http://yoursite.com/2020/08/08/%E5%85%AC%E5%B9%B3%E6%B4%97%E7%89%8C%E7%AE%97%E6%B3%95/"/>
    <id>http://yoursite.com/2020/08/08/%E5%85%AC%E5%B9%B3%E6%B4%97%E7%89%8C%E7%AE%97%E6%B3%95/</id>
    <published>2020-08-08T07:01:54.000Z</published>
    <updated>2020-08-08T07:15:01.597Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ¯ä¸€ä½ä¸Šå‡ºç°æŸä¸ªå…ƒç´ çš„æ¦‚ç‡éƒ½ç›¸ç­‰</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">JustCardShifting</span>(<span class="params">cards</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> N = cards.length;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'original:'</span>,cards);</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i=N<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--) &#123;</span><br><span class="line">    <span class="keyword">const</span> rand = <span class="built_in">Math</span>.floor(i*<span class="built_in">Math</span>.random())</span><br><span class="line">    <span class="built_in">console</span>.log(rand)</span><br><span class="line">    [cards[i],cards[rand]]=[cards[rand],cards[i]]</span><br><span class="line">&#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'after:'</span>,cards)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">9</span>,<span class="number">23</span>,<span class="number">1</span>,<span class="number">63</span>,<span class="number">4</span>,<span class="number">1</span>]</span><br><span class="line">JustCardShifting(arr)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æ¯ä¸€ä½ä¸Šå‡ºç°æŸä¸ªå…ƒç´ çš„æ¦‚ç‡éƒ½ç›¸ç­‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å®ç°ä¸€ä¸ªç®€å•çš„çº¢ç»¿ç¯</title>
    <link href="http://yoursite.com/2020/08/08/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%BA%A2%E7%BB%BF%E7%81%AF/"/>
    <id>http://yoursite.com/2020/08/08/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%BA%A2%E7%BB%BF%E7%81%AF/</id>
    <published>2020-08-08T05:23:49.000Z</published>
    <updated>2020-08-08T07:00:40.583Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ‰“å°redï¼Œåœ1s,æ‰“å°yellow,åœ2s,æ‰“å°green,åœ4s</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// async await</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">duration</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">setTimeout(resolve, duration);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">changeColor</span>(<span class="params">color, duration</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'traffic-light '</span>, color);</span><br><span class="line"><span class="keyword">await</span> sleep(duration);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> i=<span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> (i++<span class="xml"><span class="tag">&lt;<span class="name">5)</span> &#123;</span></span></span><br><span class="line"><span class="xml">await changeColor('red', 1000);</span></span><br><span class="line"><span class="xml">await changeColor('yellow', 2000);</span></span><br><span class="line"><span class="xml">await changeColor('green', 4000);</span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">show()</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æ‰“å°redï¼Œåœ1s,æ‰“å°yellow,åœ2s,æ‰“å°green,åœ4s&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
</feed>
